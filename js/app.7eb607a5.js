(function(){"use strict";var t={1098:function(t,e,l){var o=l(8935),i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"app"}},[l("div"),l("Form",{on:{submitForm:t.onFormSubmit}}),l("TotalBalance",{attrs:{total:t.totalBalance}}),l("BudgetList",{attrs:{list:t.listOfOperations}})],1)},a=[],n=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"budget-list-wrap"},[l("ElCard",{attrs:{header:t.header}},[t.isEmpty?l("ElAlert",{attrs:{type:"info",title:t.emptyTitle,closable:!1}}):[l("div",{staticClass:"buttons"},[l("ElButton",{staticClass:"all",on:{click:function(e){t.option="all"}}},[t._v("All operations")]),l("ElButton",{staticClass:"INCOME",on:{click:function(e){t.option="INCOME"}}},[t._v("Only income")]),l("ElButton",{staticClass:"OUTCOME",on:{click:function(e){t.option="OUTCOME"}}},[t._v("Only outcome")])],1),l("BudgetListItem",{attrs:{list:t.list,option:t.option},on:{deleteItem:t.onDeleteItem}})]],2)],1)},s=[],r=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[t._l(t.listOption(t.list),(function(e,o){return l("div",{key:o,staticClass:"list-item"},[l("span",{staticClass:"budget-comment"},[t._v(" "+t._s(e.comment)+" ")]),l("i",{class:t.iconItem(e.type)}),l("span",{staticClass:"budget-value"},[t._v(" "+t._s("INCOME"===e.type?e.value:-e.value)+" ")]),l("ElButton",{attrs:{type:"danger",size:"mini"},on:{click:function(l){t.id=e.id,t.dialogVisible=!0}}},[t._v("Delete")])],1)})),l("ElDialog",{attrs:{title:"Delete",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("span",[t._v("Do you want to delete "+t._s(t.itemMsg())+"?")]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("ElButton",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),l("ElButton",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1,t.deleteItem(t.id)}}},[t._v("Confirm")])],1)])],2)},u=[],c={name:"BudgetListItem",props:{list:{type:Object,default:()=>({})},option:{type:String,default:"all"}},data:()=>({dialogVisible:!1,id:""}),methods:{itemMsg(){return this.list[this.id]?this.list[this.id].comment:"this item"},deleteItem(t){this.$emit("deleteItem",t)},iconItem:t=>"INCOME"===t?"el-icon-top":"el-icon-bottom",listOption(t){if("all"===this.option)return t;const e=Object.entries(t).reduce(((t,e)=>(e[1].type===this.option&&(t[e[0]]=e[1]),t)),{});return e}},computed:{}},m=c,d=l(1001),p=(0,d.Z)(m,r,u,!1,null,null,null),f=p.exports,v={name:"BudgetList",components:{BudgetListItem:f},props:{list:{type:Object,default:()=>({})}},data:()=>({header:"Budget list",emptyTitle:"Empty list",option:"all"}),computed:{isEmpty(){return!Object.keys(this.list).length}},methods:{onDeleteItem(t){this.$delete(this.list,t),localStorage.setItem("list",JSON.stringify(this.list))}}},b=v,g=(0,d.Z)(b,n,s,!1,null,"6134fad3",null),h=g.exports,y=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"total-value"},[t._v(" Balance "),l("span",{class:[t.totalColor(t.total)]},[t._v(" "+t._s(t.total))])])},O=[],E={name:"TotalBalance",props:{total:{type:Number,default:0}},data:()=>({totalColor(t){return t?t>0?"green":"red":"black"}})},_=E,C=(0,d.Z)(_,y,O,!1,null,"4aa1dc18",null),I=C.exports,S=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ElCard",{staticClass:"form-card"},[l("ElForm",{ref:"addItemForm",attrs:{model:t.formData,rules:t.rules,"label-position":"left"}},[l("ElFormItem",{attrs:{label:"Type",prop:"type"}},[l("ElSelect",{staticClass:"type-select",attrs:{placeholder:"Choose type..."},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[l("ElOption",{attrs:{label:"income",value:"INCOME"}}),l("ElOption",{attrs:{label:"outcome",value:"OUTCOME"}})],1)],1),l("ElFormItem",{attrs:{label:"Comments",prop:"comment"}},[l("ElInput",{model:{value:t.formData.comment,callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),l("ElFormItem",{attrs:{label:"Value",prop:"value"}},[l("ElInput",{attrs:{id:"value",autocomplete:"off"},nativeOn:{keyup:function(e){return t.submitDis()}},model:{value:t.formData.value,callback:function(e){t.$set(t.formData,"value",t._n(e))},expression:"formData.value"}})],1),l("ElButton",{attrs:{id:"sub",type:"primary",disabled:""},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._v("Submit")])],1)],1)},D=[],B={name:"Form",data:()=>({formData:{type:"INCOME",comment:"",value:0},rules:{type:[{required:!0,message:"Please select type",trigger:"blur"}],comment:[{required:!0,message:"Please input comment ",trigger:"change"}],value:[{required:!0,message:"Please input value ",trigger:"change"},{type:"number",message:"Value must be a number",trigger:"change"}]}}),methods:{onSubmit(){const t=document.getElementById("sub");this.$refs.addItemForm.validate((e=>{e&&(this.$emit("submitForm",{...this.formData}),this.$refs.addItemForm.resetFields(),t.disabled=!0,t.classList.add("is-disabled"))}))},submitDis(){const t=document.getElementById("sub");0==this.formData.value&&(t.disabled=!0,t.classList.add("is-disabled")),0!=this.formData.value&&(t.disabled=!1,t.classList.remove("is-disabled"))}},computed:{}},k=B,F=(0,d.Z)(k,S,D,!1,null,"35fcfe99",null),M=F.exports,j=l(4665);console.log((0,j.Se)("users",["usersList"]));var T={name:"App",components:{BudgetList:h,TotalBalance:I,Form:M},data:()=>({list:JSON.parse(localStorage.getItem("list"))||{}}),computed:{...(0,j.Se)("operations",["listOfOperations"]),totalBalance(){return Object.values(this.listOfOperations).reduce(((t,e)=>"OUTCOME"===e.type?t-e.value:t+e.value),0)}},methods:{onFormSubmit(t){const e={...t,id:String(Math.random())};let l=Object.entries(this.list);l.unshift([e.id,e]),this.list=JSON.parse(JSON.stringify(Object.fromEntries(l))),localStorage.setItem("list",JSON.stringify(this.list))}}},$=T,w=(0,d.Z)($,i,a,!1,null,null,null),N=w.exports,x=l(187),L=l(8651),P=l(4549);const V=[P.Button,P.Card,P.Form,P.FormItem,P.Input,P.Select,P.Option,P.Alert,P.Dialog];L["default"].use(x.Z),V.forEach((t=>o["default"].use(t,{locale:L["default"]})));const Z={namespaced:!0,state:{list:JSON.parse(localStorage.getItem("list"))||{}},getters:{listOfOperations:({list:t})=>(console.log(t),t)},mutations:{},actions:{},modules:{}};var J=Z;o["default"].use(j.ZP);var A=new j.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{operations:J}});o["default"].config.productionTip=!1,new o["default"]({store:A,render:t=>t(N)}).$mount("#app")}},e={};function l(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,l),a.exports}l.m=t,function(){var t=[];l.O=function(e,o,i,a){if(!o){var n=1/0;for(c=0;c<t.length;c++){o=t[c][0],i=t[c][1],a=t[c][2];for(var s=!0,r=0;r<o.length;r++)(!1&a||n>=a)&&Object.keys(l.O).every((function(t){return l.O[t](o[r])}))?o.splice(r--,1):(s=!1,a<n&&(n=a));if(s){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[o,i,a]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var o in e)l.o(e,o)&&!l.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};l.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],s=o[1],r=o[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(i in s)l.o(s,i)&&(l.m[i]=s[i]);if(r)var c=r(l)}for(e&&e(o);u<n.length;u++)a=n[u],l.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return l.O(c)},o=self["webpackChunkbudget_app"]=self["webpackChunkbudget_app"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=l.O(void 0,[998],(function(){return l(1098)}));o=l.O(o)})();
//# sourceMappingURL=app.7eb607a5.js.map